import { UKSpecSubCompetency, RAGStatus, CompetencyAreaCode, PocCompetency } from './types';

export const UK_SPEC_COMPETENCIES: UKSpecSubCompetency[] = [
  {
    Competency_Area_Code: "A",
    Competency_Area_Title: "Knowledge and understanding",
    Sub_Competency_Code: "A1",
    Sub_Competency_Title: "Maintain and extend a sound theoretical approach in enabling the introduction and exploitation of new and advancing technology and other relevant developments.",
    Sub_Competency_Full_Description: "Chartered Engineers must be competent throughout their working life, by virtue of their education, training and experience to: Use a combination of general and specialist engineering knowledge and understanding to optimise the application of existing and emerging technology. A1 Maintain and extend a sound theoretical approach in enabling the introduction and exploitation of new and advancing technology and other relevant developments. This could include an ability to: Identify the limits of own personal knowledge and skills. Strive to extend own technological capability. Broaden and deepen own knowledge base through research and experimentation. Engage in formal post-graduate academic study. Learn and develop new engineering theories and techniques in the workplace. Broaden your knowledge of engineering codes, standards and specifications.",
    Illustrative_Examples_Keywords: "research, experimentation, new technology, advancing technology, post-graduate study, extend knowledge base, learn new theories, engineering codes, standards, specifications, identify limits of knowledge, extend capability"
  },
  {
    Competency_Area_Code: "A",
    Competency_Area_Title: "Knowledge and understanding",
    Sub_Competency_Code: "A2",
    Sub_Competency_Title: "Engage in the creative and innovative development of engineering technology and continuous improvement systems.",
    Sub_Competency_Full_Description: "Chartered Engineers must be competent... to: A2 Engage in the creative and innovative development of engineering technology and continuous improvement systems. This could include an ability to: Establish the user and market needs for a product, process or system. Explore opportunities for the development and transfer of technology. Identify constraints and exploit opportunities for the development and transfer of technology. Promote new applications for existing technology. Secure the necessary intellectual property (IP) rights. Develop and evaluate continuous improvement systems.",
    Illustrative_Examples_Keywords: "establish user needs, marketing needs, constraints, opportunities, technology transfer, promote new applications, secure IP, problem solving, innovative solutions, continuous improvement"
  },
  {
    Competency_Area_Code: "B",
    Competency_Area_Title: "Design and development of processes, systems, services and products",
    Sub_Competency_Code: "B1",
    Sub_Competency_Title: "Identify potential projects and opportunities.",
    Sub_Competency_Full_Description: "Chartered Engineers must be competent... to: B1 Identify potential projects and opportunities. This could include an ability to: Explore the territory for new opportunities. Review the potential for enhancing engineering products, processes, systems and services. Use market intelligence and knowledge of technological development to contribute to the identification and exploration of new business opportunities. Contribute to evaluation of the technical and commercial viability of proposed projects. Make an effective technical contribution to proposals and tenders. Engage with stakeholders to identify engineering projects and opportunities.",
    Illustrative_Examples_Keywords: "explore opportunities, review potential enhancements, feasibility studies, technical contributions, commercial viability, stakeholder engagement, market intelligence, business opportunities"
  },
  {
    Competency_Area_Code: "B",
    Competency_Area_Title: "Design and development of processes, systems, services and products",
    Sub_Competency_Code: "B2",
    Sub_Competency_Title: "Conduct appropriate research, and undertake design and development of engineering solutions.",
    Sub_Competency_Full_Description: "Chartered Engineers must be competent... to: B2 Conduct appropriate research, and undertake design and development of engineering solutions. This could include an ability to: Identify and agree appropriate research methodologies. Assemble the necessary resources. Carry out the necessary tests. Collect, analyse and evaluate the relevant data. Develop theoretical concepts. Apply theoretical concepts to develop new technologies, products, processes, systems or services. Undertake engineering design. Manage the design process, develop, and evaluate alternative solutions and justify the option chosen. Take technical responsibility for a significant component of a complex engineering project. Solve non-standard engineering problems.",
    Illustrative_Examples_Keywords: "research methodologies, assemble resources, carry out tests, collect data, analyse data, evaluate data, design solutions, manage design process, technical responsibility, non-standard problems, theoretical concepts"
  },
  {
    Competency_Area_Code: "B",
    Competency_Area_Title: "Design and development of processes, systems, services and products",
    Sub_Competency_Code: "B3",
    Sub_Competency_Title: "Implement design solutions, and evaluate their effectiveness.",
    Sub_Competency_Full_Description: "Chartered Engineers must be competent... to: B3 Implement design solutions, and evaluate their effectiveness. This could include an ability to: Ensure that the application of the design results in the appropriate product, process, system or service. Implement solutions and contribute to their evaluation considering critical constraints including due concern for safety and sustainability. Identify areas of existing best practice. Critically evaluate the effectiveness of the design against original specifications and identify potential areas of improvement. Actively learn from feedback on performance to improve future design solutions and build best practice.",
    Illustrative_Examples_Keywords: "ensure appropriate outcome, critical constraints, evaluate solutions, improve effectiveness, best practice, risk assessment, safety, sustainability, feedback, design specifications"
  },
  {
    Competency_Area_Code: "C",
    Competency_Area_Title: "Responsibility, management or leadership",
    Sub_Competency_Code: "C1",
    Sub_Competency_Title: "Plan for effective project implementation.",
    Sub_Competency_Full_Description: "Chartered Engineers must be competent... to: C1 Plan for effective project implementation. This could include an ability to: Identify the factors affecting projects, including health, safety, welfare, sustainability, environmental impact and quality considerations. Lead on preparing and agreeing implementation plans and method statements. Ensure that necessary resources are secured and build in contingency where needed. Understand and take account of the principal technical and commercial risks in a project. Demonstrate awareness of relevant legal and contractual issues. Develop and implement appropriate technical improvements and changes.",
    Illustrative_Examples_Keywords: "identify projects, technical improvements, prepare specifications, user requirements, technical risk analysis, mitigation measures, emerging technologies, implementation plans, method statements, resource allocation, legal issues, contractual issues"
  },
  {
    Competency_Area_Code: "C",
    Competency_Area_Title: "Responsibility, management or leadership",
    Sub_Competency_Code: "C2",
    Sub_Competency_Title: "Plan, budget, organise, direct and control tasks, people and resources.",
    Sub_Competency_Full_Description: "Chartered Engineers must be competent... to: C2 Plan, budget, organise, direct and control tasks, people and resources. This could include an ability to: Set up and manage appropriate management systems. Agree quality standards, programme and budget. Organise and lead work teams, coordinating project activities. Ensure that proper account is taken of legal and contractual requirements applicable to a project. Manage and control the use of resources. Manage variations from specification effectively. Monitor progress and control costs effectively reporting on both as required.",
    Illustrative_Examples_Keywords: "set up management systems, quality standards, programme, budget, legal requirements, organise work teams, coordinate project activities, manage variations, monitor progress, cost control, resource management"
  },
  {
    Competency_Area_Code: "C",
    Competency_Area_Title: "Responsibility, management or leadership",
    Sub_Competency_Code: "C3",
    Sub_Competency_Title: "Lead teams and develop staff to meet changing technical and managerial needs.",
    Sub_Competency_Full_Description: "Chartered Engineers must be competent... to: C3 Lead teams and develop staff to meet changing technical and managerial needs. This could include an ability to: Agree objectives and work plans with teams and individuals. Identify team and individual needs. Plan and lead the development of team members and individuals. Support and motivate team members and individuals. Assess team and individual performance and provide feedback. Carry out staff appraisals. Guide and support the learning and development of others (eg staff, colleagues, mentees).",
    Illustrative_Examples_Keywords: "agree objectives, work plans, identify team needs, individual needs, plan development, lead development, support development, assess performance, provide feedback, staff appraisals, training, mentoring, team leadership"
  },
  {
    Competency_Area_Code: "C",
    Competency_Area_Title: "Responsibility, management or leadership",
    Sub_Competency_Code: "C4",
    Sub_Competency_Title: "Bring about continuous quality improvement.",
    Sub_Competency_Full_Description: "Chartered Engineers must be competent... to: C4 Bring about continuous quality improvement. This could include an ability to: Promote quality throughout the organisation and its customer and supplier networks. Develop and maintain operations to meet quality standards. Direct project and process evaluation and use learning points. Make recommendations for improvement and implement them. Implement and share the results of best practice.",
    Illustrative_Examples_Keywords: "promote quality, develop operations, meet quality standards, direct project evaluation, recommendations for improvement, implement change, best practice, quality management"
  },
  {
    Competency_Area_Code: "D",
    Competency_Area_Title: "Communication and inter-personal skills",
    Sub_Competency_Code: "D1",
    Sub_Competency_Title: "Communicate in English with others at all levels.",
    Sub_Competency_Full_Description: "Chartered Engineers must be competent... to: D1 Communicate in English with others at all levels. This could include an ability to: Contribute effectively to meetings and discussions. Prepare and deliver clear presentations. Prepare and issue clear letters, documents and reports. Exchange information and provide advice to technical and non-technical colleagues. Deal effectively with difficult situations. Chair meetings effectively.",
    Illustrative_Examples_Keywords: "contribute to meetings, chair meetings, record meetings, prepare letters, documents, reports, complex matters, exchange information, provide advice, technical colleagues, non-technical colleagues, clear presentations"
  },
  {
    Competency_Area_Code: "D",
    Competency_Area_Title: "Communication and inter-personal skills",
    Sub_Competency_Code: "D2",
    Sub_Competency_Title: "Present and discuss proposals.",
    Sub_Competency_Full_Description: "Chartered Engineers must be competent... to: D2 Present and discuss proposals. This could include an ability to: Prepare and deliver presentations on strategic matters. Lead and sustain debates with audiences. Be influential in meetings and discussions. Feed back information to improve proposals.",
    Illustrative_Examples_Keywords: "prepare presentations, deliver presentations, strategic matters, lead debates, sustain debates, feedback, improve proposals, influential communication"
  },
  {
    Competency_Area_Code: "D",
    Competency_Area_Title: "Communication and inter-personal skills",
    Sub_Competency_Code: "D3",
    Sub_Competency_Title: "Demonstrate personal and social skills.",
    Sub_Competency_Full_Description: "Chartered Engineers must be competent... to: D3 Demonstrate personal and social skills. This could include an ability to: Know and manage own emotions, strengths and weaknesses. Be aware of the needs and concerns of others, especially where related to diversity and inclusion. Be confident and flexible in dealing with new and changing situations. Be confident and flexible in dealing with new and changing interpersonal situations. Identify, agree and lead work towards collective goals. Create, maintain and enhance productive working relationships and resolve conflicts. Demonstrate a commitment to equality, diversity and inclusion.",
    Illustrative_Examples_Keywords: "manage own emotions, strengths, weaknesses, aware of others' needs, concerns, confident, flexible, new situations, changing situations, interpersonal situations, identify collective goals, agree collective goals, lead work towards collective goals, create productive relationships, maintain productive relationships, enhance productive relationships, resolve conflicts, diversity, anti-discrimination, equality, inclusion"
  },
  {
    Competency_Area_Code: "E",
    Competency_Area_Title: "Professional Commitment",
    Sub_Competency_Code: "E1",
    Sub_Competency_Title: "Comply with relevant codes of conduct.",
    Sub_Competency_Full_Description: "Chartered Engineers must be competent... to: E1 Comply with relevant codes of conduct. This could include an ability to: Understand and comply with the rules of professional conduct of their professional body. Understand and comply with the codes of conduct relevant to their jurisdiction. Manage engineering activities to promote sustainable development. Understand the environmental, health and safety regulations which govern their engineering activities.",
    Illustrative_Examples_Keywords: "rules of professional conduct, professional body, codes relevant to jurisdiction, manage engineering activities, sustainable development, health and safety regulations, compliance"
  },
  {
    Competency_Area_Code: "E",
    Competency_Area_Title: "Professional Commitment",
    Sub_Competency_Code: "E2",
    Sub_Competency_Title: "Manage and apply safe systems of work.",
    Sub_Competency_Full_Description: "Chartered Engineers must be competent... to: E2 Manage and apply safe systems of work. This could include an ability to: Identify and take responsibility for their own obligations for health, safety and welfare issues. Ensure that systems satisfy health, safety and welfare requirements. Develop and implement appropriate hazard identification and risk management systems and procedures. Manage, evaluate and improve safety performance. Understand and encourage a culture of health and safety. Understand the requirements for working with hazardous materials and in hazardous environments.",
    Illustrative_Examples_Keywords: "identify hazards, assess risks, manage risks, ensure systems satisfy requirements, develop procedures, implement procedures, safe systems, security, health and safety culture, risk management"
  },
  {
    Competency_Area_Code: "E",
    Competency_Area_Title: "Professional Commitment",
    Sub_Competency_Code: "E3",
    Sub_Competency_Title: "Undertake engineering activities in a way that contributes to sustainable development.",
    Sub_Competency_Full_Description: "Chartered Engineers must be competent... to: E3 Undertake engineering activities in a way that contributes to sustainable development. This could include an ability to: Operate and act responsibly, taking account of the need to progress environmental, social and economic outcomes simultaneously. Understand and secure stakeholder involvement in sustainable development. Use imagination, creativity and innovation to provide products and services which maintain and enhance the quality of the environment and community and meet financial objectives. Understand and encourage stakeholder involvement in sustainable development. Understand the implications of the United Nations Sustainable Development Goals for their area of work. Plan and undertake work to further the United Nations Sustainable Development Goals. Strive for energy efficiency and resource efficiency in their work.",
    Illustrative_Examples_Keywords: "operate and act responsibly, minimise adverse impacts, social impact, economic impact, environmental impact, understand UN SDGs, energy efficiency, resource efficiency, stakeholder involvement, sustainable solutions"
  },
  {
    Competency_Area_Code: "E",
    Competency_Area_Title: "Professional Commitment",
    Sub_Competency_Code: "E4",
    Sub_Competency_Title: "Carry out continuing professional development (CPD) necessary to maintain and enhance competence in own area of practice.",
    Sub_Competency_Full_Description: "Chartered Engineers must be competent... to: E4 Carry out continuing professional development (CPD) necessary to maintain and enhance competence in own area of practice. This could include an ability to: Undertake reviews of own development needs. Plan how to meet personal and organisational objectives. Carry out planned and unplanned CPD activities. Maintain evidence of competence development. Evaluate CPD outcomes against action plans. Assist others with their own CPD. Engage with wider developments in the national and international engineering community.",
    Illustrative_Examples_Keywords: "planned CPD, unplanned CPD, maintain evidence, competence development, evaluate CPD outcomes, action plans, assist others with CPD, national engineering issues, international engineering issues, maintain CPD plans, maintain CPD records, self-review"
  },
  {
    Competency_Area_Code: "E",
    Competency_Area_Title: "Professional Commitment",
    Sub_Competency_Code: "E5",
    Sub_Competency_Title: "Exercise responsibilities in an ethical manner.",
    Sub_Competency_Full_Description: "Chartered Engineers must be competent... to: E5 Exercise responsibilities in an ethical manner. This could include an ability to: Understand the ethical issues that may arise in their role and carry out their responsibilities in an ethical manner. Identify and raise ethical concerns or dilemmas. Make and justify ethical judgements. Promote awareness and understanding of ethical issues. Uphold the ethical principles of their profession and act in the public interest.",
    Illustrative_Examples_Keywords: "ethical principles, ethical dilemmas, make ethical judgments, justify decisions, social responsibility, public interest, raise ethical concerns, promote ethical awareness"
  }
];

// RAG_CLASSES provides full Tailwind class strings for badges, making them theme-aware.
// For dark theme, text color on accent backgrounds is now 'dark-theme-text-base' for better contrast.
export const RAG_CLASSES: Record<RAGStatus, string> = {
  [RAGStatus.Green]: "bg-green-100 text-green-700 dark:bg-dark-theme-accent-green dark:text-dark-theme-text-base",
  [RAGStatus.Amber]: "bg-amber-100 text-amber-700 dark:bg-dark-theme-accent-amber dark:text-dark-theme-text-base",
  [RAGStatus.Red]: "bg-red-100 text-red-700 dark:bg-dark-theme-accent-red dark:text-dark-theme-text-base",
  [RAGStatus.NotAssessed]: "bg-gray-100 text-gray-600 dark:bg-dark-theme-bg-muted dark:text-dark-theme-text-base",
};

// For AI Feedback boxes, these classes will be combined with opacity modifiers
export const AI_FEEDBACK_BG_CLASSES: Record<RAGStatus, string> = {
  [RAGStatus.Green]: "border-theme-accent-green bg-theme-accent-green dark:border-dark-theme-accent-green dark:bg-dark-theme-accent-green",
  [RAGStatus.Amber]: "border-theme-accent-amber bg-theme-accent-amber dark:border-dark-theme-accent-amber dark:bg-dark-theme-accent-amber",
  [RAGStatus.Red]: "border-theme-accent-red bg-theme-accent-red dark:border-dark-theme-accent-red dark:bg-dark-theme-accent-red",
  [RAGStatus.NotAssessed]: "border-theme-border bg-theme-bg-base dark:border-dark-theme-border dark:bg-dark-theme-bg-base",
}

// Ensure text on new dark theme accent backgrounds is readable (using dark-theme-text-base)
export const AI_FEEDBACK_TEXT_CLASSES: Record<RAGStatus, string> = {
  [RAGStatus.Green]: "text-theme-text-inverted dark:text-dark-theme-text-base", 
  [RAGStatus.Amber]: "text-theme-text-inverted dark:text-dark-theme-text-base", 
  [RAGStatus.Red]: "text-theme-text-inverted dark:text-dark-theme-text-base", 
  [RAGStatus.NotAssessed]: "text-theme-text-muted dark:text-dark-theme-text-muted",
}


export const COMPETENCY_AREAS: { code: CompetencyAreaCode; title: string }[] = [
    { code: "A", title: "Knowledge and understanding" },
    { code: "B", title: "Design and development of processes, systems, services and products" },
    { code: "C", title: "Responsibility, management or leadership" },
    { code: "D", title: "Communication and inter-personal skills" },
    { code: "E", title: "Professional Commitment" },
];

export const GEMINI_API_KEY = process.env.API_KEY || "YOUR_API_KEY_HERE"; // Fallback for local dev if not set
export const GEMINI_TEXT_MODEL = "gemini-2.5-flash";


// --- Constants for Proof-of-Concept (PoC) Evidence Hub ---

export const POC_MAX_FILE_SIZE_MB = 5;
export const POC_MAX_FILE_SIZE_BYTES = POC_MAX_FILE_SIZE_MB * 1024 * 1024;

// Mapping of MIME types to display names/extensions for the PoC
export const POC_ALLOWED_FILE_TYPES: { [mimeType: string]: string } = {
  'image/jpeg': '.jpg, .jpeg',
  'image/png': '.png',
  'application/pdf': '.pdf',
  'application/msword': '.doc',
  'application/vnd.openxmlformats-officedocument.wordprocessingml.document': '.docx',
};

// String for the <input accept="..."> attribute
export const POC_ACCEPT_STRING = Object.keys(POC_ALLOWED_FILE_TYPES).join(',');

export enum PocRAGStatus {
  Red = "Red",
  Amber = "Amber",
  Green = "Green",
}

export const POC_COMPETENCIES: PocCompetency[] = [
  { id: 'poc-1', title: 'Technical Responsibility', description: 'Evidence of taking technical responsibility for complex engineering tasks.' },
  { id: 'poc-2', title: 'Project Management', description: 'Evidence of planning, budgeting, and managing projects.', isAmberByDefault: true },
  { id: 'poc-3', title: 'Stakeholder Communication', description: 'Evidence of effective communication with technical and non-technical stakeholders.' },
  { id: 'poc-4', title: 'Ethical Conduct', description: 'Evidence of applying ethical principles in engineering practice.' },
  { id: 'poc-5', title: 'Continuing Professional Development (CPD)', description: 'Record of activities undertaken to maintain and enhance competence.', isAmberByDefault: true },
];

export const POC_RAG_CLASSES: Record<PocRAGStatus, { dot: string; text: string }> = {
  [PocRAGStatus.Green]: {
    dot: 'bg-green-500',
    text: 'text-green-700 dark:text-green-400',
  },
  [PocRAGStatus.Amber]: {
    dot: 'bg-amber-500',
    text: 'text-amber-700 dark:text-amber-400',
  },
  [PocRAGStatus.Red]: {
    dot: 'bg-red-500',
    text: 'text-red-700 dark:text-red-400',
  },
};
